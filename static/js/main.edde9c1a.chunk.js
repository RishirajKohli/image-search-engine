(this["webpackJsonplocation-marker"]=this["webpackJsonplocation-marker"]||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),o=a.n(r),l=(a(39),a(2)),s=a(13),u=a(6),i=a(18),m=a.n(i),b=a(19),f=a(29),d=a.n(f),E=(a(54),a(9));var h=Object(n.memo)((function(e){var t=e.images;return c.a.createElement("div",{class:"image-panel"},t.map((function(e){return c.a.createElement(E.b,{to:"/".concat(e.id)},c.a.createElement("div",{class:"image-block"},c.a.createElement("img",{alt:e.alt_description,src:e.urls.thumb})))})))})),O=(a(59),a(30)),j=a.n(O),v=new m.a({accessKey:"JKtfowv6i-uF34qRztTVR4FwBUyLf1RJO_vn13tF_74"});var g=Object(n.memo)((function(){var e=Object(l.f)().photoId,t=Object(n.useState)(!0),a=Object(u.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(null),i=Object(u.a)(s,2),m=i[0],f=i[1],d=Object(n.useState)(null),E=Object(u.a)(d,2),h=E[0],O=E[1];Object(n.useEffect)((function(){r&&v.photos.getPhoto(e).then((function(e){if(200==e.status)return e.json();throw new Error})).then((function(e){f(e),o(!1)})).catch((function(e){console.error(e),O("An error. Try Again!"),o(!1)}))}),[r,e]);var g=Object(n.useCallback)((function(){window.history.back()}),[]);return Object(n.useCallback)((function(){v.photos.downloadPhoto(m)}),[m]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"backdrop"},c.a.createElement("div",{className:"modal-overlay"},c.a.createElement("div",{className:"close"},c.a.createElement("button",{onClick:g},c.a.createElement(b.Icon,{icon:j.a}))),r?c.a.createElement("div",{className:"placeholder"}," Loading..."):h?c.a.createElement("div",{className:"placeholder"},h):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"user"},c.a.createElement("div",{className:"user-avatar"},c.a.createElement("img",{alt:m.user.username,src:m.user.profile_image.medium})),c.a.createElement("div",{className:"user-info"},c.a.createElement("div",null,c.a.createElement("b",null,"".concat(m.user.first_name," ").concat(m.user.last_name))),c.a.createElement("div",{className:"user-info__username"},"@".concat(m.user.twitter_username||m.user.instagram_username||m.user.username)))),c.a.createElement("div",{className:"image-block"},c.a.createElement("img",{alt:m.alt_description,src:m.urls.small})),c.a.createElement("div",{className:"download-block"},c.a.createElement("a",{href:m.urls.regular,download:!0},"Download"))))))})),p=(a(60),new m.a({accessKey:"JKtfowv6i-uF34qRztTVR4FwBUyLf1RJO_vn13tF_74"}));var w=Object(n.memo)((function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!0),i=Object(u.a)(o,2),m=i[0],f=i[1],E=Object(n.useState)(!1),O=Object(u.a)(E,2),j=O[0],v=O[1],w=Object(n.useState)(!0),_=Object(u.a)(w,2),k=_[0],N=_[1],S=Object(n.useState)([]),y=Object(u.a)(S,2),L=y[0],F=y[1],T=Object(n.useState)(1),C=Object(u.a)(T,2),I=C[0],R=C[1],J=Object(n.useState)(null),B=Object(u.a)(J,2),D=B[0],K=B[1];Object(n.useEffect)((function(){M()}),[]),Object(n.useEffect)((function(){k&&j?M():(j||!k&&m)&&P(a)}),[k,m,j]);var M=function(){p.photos.getRandomPhoto({count:9}).then((function(e){if(200===e.status)return e.json();throw new Error})).then((function(e){F([].concat(Object(s.a)(L),Object(s.a)(e))),f(!1),v(!1)})).catch((function(e){console.error(e),F([]),v(!1),f(!1)}))},P=function(e){p.search.photos(e,I,9,{orientation:"landscape"}).then((function(e){if(200===e.status)return e.json();throw new Error})).then((function(e){F([].concat(Object(s.a)(L),Object(s.a)(e.results))),K(e.total_pages),v(!1),f(!1)})).catch((function(e){console.error(e),F([]),v(!1),f(!1)}))},U=Object(n.useCallback)((function(e){r(e.target.value)}),[]),V=Object(n.useCallback)((function(e){e.preventDefault(),a&&(N(!1),F([]),f(!0))}),[a]),q=Object(n.useCallback)((function(e){v(!0),k||R(e)}),[k]);return c.a.createElement("main",{className:"main-block"},c.a.createElement("form",{onSubmit:V,className:"search-box"},c.a.createElement("input",{value:a,onChange:U,placeholder:"Search for images here..."}),c.a.createElement("button",{type:"submit"},c.a.createElement(b.Icon,{icon:d.a,className:"search-button"}))),m?c.a.createElement("div",{className:"placeholder"}," Loading...."):L.length>1?c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{images:L}),c.a.createElement("div",{class:"load-more-block"},j?"Loading More Images...":k||I!=D?c.a.createElement("button",{onClick:function(){return q(I+1)}},"Load More"):null)):c.a.createElement("div",{className:"placeholder"},"Oops! No Images Found."),c.a.createElement(l.a,{path:"/:photoId",render:function(e){return c.a.createElement(g,e)}}))}));var _=Object(n.memo)((function(){return c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/",component:w}))}));a(61);var k=Object(n.memo)((function(){return c.a.createElement(_,null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(32),S=a(8),y=a(33),L=a(24),F={isThemeLight:!0};var T=Object(S.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_THEME":var a=!e.isThemeLight;return Object(L.a)(Object(L.a)({},e),{},{isThemeLight:a});default:return e}}}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,I=Object(y.a)(),R=Object(S.e)(T,C(Object(S.a)(I)));o.a.render(c.a.createElement(N.a,{store:R},c.a.createElement(E.a,null,c.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.edde9c1a.chunk.js.map